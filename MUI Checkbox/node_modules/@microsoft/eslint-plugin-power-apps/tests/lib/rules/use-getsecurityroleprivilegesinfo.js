// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

"use strict";

//------------------------------------------------------------------------------
// Requirements
//------------------------------------------------------------------------------

const rules = require('../../../lib/rules/use-getsecurityroleprivilegesinfo');
const RuleTester = require('eslint').RuleTester;

//------------------------------------------------------------------------------
// CONSTANTS
//------------------------------------------------------------------------------

const errors = [{messageId: 'use_getSecurityRolePrivilegesInfo'}];

//------------------------------------------------------------------------------
// Helpers
//------------------------------------------------------------------------------

const ruleTester = new RuleTester();

ruleTester.run('use-getsecurityroleprivilegesinfo',rules,{
    valid :[
		{
			code: "n.userSettings.getSecurityRolePrivilegesInfo()",
		},
		{
			code: "Xrm.Utility.getGlobalContext().userSettings.getSecurityRolePrivilegesInfo()"
		}
	],

    invalid :[
        {
            code: 'n.userSettings.securityRolePrivileges',
            errors,
        },
        {
            code: 'Xrm.page.context.userSettings.securityRolePrivileges',
            errors,
        },
        {
            code: 'Xrm.Utility.getGlobalContext().userSettings.securityRolePrivileges',
            errors,
        }
    ],

})


